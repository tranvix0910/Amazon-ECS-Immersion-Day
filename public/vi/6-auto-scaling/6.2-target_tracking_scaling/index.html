<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="http://localhost:1313/images/favicon.png" type="image/png">

    <title>Target Tracking Scaling :: TRIỂN KHAI ỨNG DỤNG TRÊN AMAZON ELASTIC CONTAINER SERVICE</title>

    
    <link href="http://localhost:1313/css/nucleus.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/fontawesome-all.min.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/hybrid.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/featherlight.min.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/perfect-scrollbar.min.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/auto-complete.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/atom-one-dark-reasonable.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/theme.css?1768702295" rel="stylesheet">
    <link href="http://localhost:1313/css/hugo-theme.css?1768702295" rel="stylesheet">
    
    <link href="http://localhost:1313/css/theme-workshop.css?1768702295" rel="stylesheet">
    
    

    <script src="http://localhost:1313/js/jquery-3.3.1.min.js?1768702295"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="http://localhost:1313/vi/6-auto-scaling/6.2-target_tracking_scaling/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://localhost:1313/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="http://localhost:1313/js/lunr.min.js?1768702295"></script>
<script type="text/javascript" src="http://localhost:1313/js/auto-complete.js?1768702295"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost:1313\/\/vi";
    
</script>
<script type="text/javascript" src="http://localhost:1313/js/search.js?1768702295"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-introduction/" title="Giới thiệu" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/1-introduction/">
           <b> 1. </b> Giới thiệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-fundamentals/" title="Các khái niệm cơ bản" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/">
           <b> 2. </b> Các khái niệm cơ bản
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.1-ecs_cluster/" title="Amazon ECS Cluster" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.1-ecs_cluster/">
           <b> 2.1. </b> Amazon ECS Cluster
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.2-ecs_service/" title="Amazon ECS Service" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.2-ecs_service/">
           <b> 2.2. </b> Amazon ECS Service
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.3-ecs_task/" title="Amazon ECS Task" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.3-ecs_task/">
           <b> 2.3. </b> Amazon ECS Task
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.4-ecs_task_definition/" title="Amazon ECS Task Definition" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.4-ecs_task_definition/">
           <b> 2.4. </b> Amazon ECS Task Definition
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-prepare/" title="Chuẩn bị" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/">
           <b> 3. </b> Chuẩn bị
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.1-user_accesskey/" title="Tạo User &amp; Access Key" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.1-user_accesskey/">
           <b> 3.1. </b> Tạo User &amp; Access Key
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.2-cluster-task_definitions/" title="Tạo Cluster &amp; Task Definition" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.2-cluster-task_definitions/">
           <b> 3.2. </b> Tạo Cluster &amp; Task Definition
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.3-services/" title="Services" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.3-services/">
           <b> 3.3. </b> Services
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.4-updated_services/" title="Cập nhật Services" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.4-updated_services/">
           <b> 3.4. </b> Cập nhật Services
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.5-enable_ecs_exec/" title="Enable ECS Exec" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.5-enable_ecs_exec/">
           <b> 3.5. </b> Enable ECS Exec
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-express-mode/" title="Express Mode" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/4-express-mode/">
           <b> 4. </b> Express Mode
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/4-express-mode/4.1-setup_deploy/" title="Express Mode Setup &amp; Deployment" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/4-express-mode/4.1-setup_deploy/">
           <b> 4.1. </b> Express Mode Setup &amp; Deployment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-express-mode/4.2-update/" title="Express Mode Update" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/4-express-mode/4.2-update/">
           <b> 4.2. </b> Express Mode Update
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/5-managed-instances/" title="ECS Managed Instances" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/5-managed-instances/">
           <b> 5. </b> ECS Managed Instances
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/5-managed-instances/5.1-enable/" title="Enable ECS Managed Instances" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/5-managed-instances/5.1-enable/">
           <b> 5.1. </b> Enable ECS Managed Instances
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/5-managed-instances/5.2-deploy/" title="Triển khai với Managed Instances" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/5-managed-instances/5.2-deploy/">
           <b> 5.2. </b> Triển khai với Managed Instances
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/5-managed-instances/5.3-managed/" title="Managed Instances Infrastructure" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/5-managed-instances/5.3-managed/">
           <b> 5.3. </b> Managed Instances Infrastructure
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/6-auto-scaling/" title="Auto Scaling" class="dd-item 
        parent
        
        
        ">
      <a href="http://localhost:1313/vi/6-auto-scaling/">
           <b> 6. </b> Auto Scaling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/6-auto-scaling/6.1-sas/" title="Service Auto Scaling" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/6-auto-scaling/6.1-sas/">
           <b> 6.1. </b> Service Auto Scaling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-auto-scaling/6.2-target_tracking_scaling/" title="Target Tracking Scaling" class="dd-item 
        
        active
        
        ">
      <a href="http://localhost:1313/vi/6-auto-scaling/6.2-target_tracking_scaling/">
           <b> 6.2. </b> Target Tracking Scaling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-auto-scaling/6.3-scheduled_scaling/" title="Scheduled Scaling" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/6-auto-scaling/6.3-scheduled_scaling/">
           <b> 6.3. </b> Scheduled Scaling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/7-networking/" title="Networking" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/7-networking/">
           <b> 7. </b> Networking
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/7-networking/7.1-network_mode/" title="Amazon ECS Network Mode" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/7-networking/7.1-network_mode/">
           <b> 7.1. </b> Amazon ECS Network Mode
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/7-networking/7.2-service-connect/" title="ECS Service Connect" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/7-networking/7.2-service-connect/">
           <b> 7.2. </b> ECS Service Connect
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/7-networking/7.2-service-connect/7.2.1-enable_service_connect/" title="Enable Service Connect" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/7-networking/7.2-service-connect/7.2.1-enable_service_connect/">
           <b> 7.2.1. </b> Enable Service Connect
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/8-observability/" title="Observability" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/8-observability/">
           <b> 8. </b> Observability
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/9-security/" title="Security" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/9-security/">
           <b> 9. </b> Security
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/10-deployments/" title="Deployments" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/10-deployments/">
           <b> 10. </b> Deployments
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/11-storage/" title="Storage" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/11-storage/">
           <b> 11. </b> Storage
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/12-cost-optimizations/" title="Cost Optimizations" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/12-cost-optimizations/">
           <b> 12. </b> Cost Optimizations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/13-clean-up/" title="Clean Up" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/13-clean-up/">
           <b> 13. </b> Clean Up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://localhost:1313/6-auto-scaling/6.2-target_tracking_scaling/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://localhost:1313/vi/6-auto-scaling/6.2-target_tracking_scaling/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <b>Authors</b> <br>
    <ul>
        <li><a href="http://linkedin.com/in/tranvix0910" style="color:orange;">Trần Vĩ</a></li>
    </ul>
</left>

<left>
    
    <b>Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7836256&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" alt="web counter" border="0" /> <br>
    <b><a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total Cloud Journey" alt="web counter" border="0" />
</left>

<left>
    <br>
    <br>
    <b>Last Updated</b> <br>
    <i><font color=orange>20-01-2025</font></i>
</left>

<left>
    <br>
    <br>
    <b>Team</b> <br>
    <i><a href="https://www.linkedin.com/in/jotaguy" style="color:orange">Gia Hưng</a></i>
</left>


<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='http://localhost:1313/vi/'>Workshop Amazon Elastic Container Service & AWS Fargate</a> > <a href='http://localhost:1313/vi/6-auto-scaling/'>Auto Scaling</a> > Target Tracking Scaling
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Target Tracking Scaling
            </h1>
          

        



	<h4 id="register-scalable-target">Register Scalable Target</h4>
<p>Trong phần này, chúng ta sẽ cấu hình ECS Service Auto Scaling bằng cách sử dụng Target Tracking Scaling.</p>
<p>Trước tiên, Register UI service như một scalable target với Application Auto Scaling. Lệnh sau thiết lập scaling range cho UI Service từ minimum 2 đến maximum 10 tasks.</p>
<p>Lệnh <code>register-scalable-target</code> dùng để cho phép ECS Service được auto scale và giới hạn phạm vi scale (min/max task); nếu không có bước này thì mọi scaling policy đều vô hiệu.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws application-autoscaling register-scalable-target <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --service-namespace ecs <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --scalable-dimension ecs:service:DesiredCount <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --resource-id service/retail-store-ecs-cluster/ui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --min-capacity <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --max-capacity <span style="color:#ae81ff">10</span>
</span></span></code></pre></div><p><img alt="Register Scalable Target" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/1.png"></p>
<p><img alt="Register Scalable Target" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/2.png"></p>

<div class="notices note" ><p>Scalable Target là một đối tượng có thể bị Auto Scaling. Việc khai báo này với Application Auto Scaling rằng: “ECS Service này ĐƯỢC PHÉP auto scale, và chỉ được scale trong một khoảng xác định.”</p>
</div>

<h4 id="tạo-scaling-policy">Tạo Scaling Policy</h4>
<p>Scaling policy là tập các quy tắc xác định khi nào và bằng cách nào Amazon ECS Service sẽ tăng hoặc giảm số lượng task, dựa trên các metric được theo dõi.</p>
<p>Scaling policy không trực tiếp thực hiện việc scale tài nguyên, mà:</p>
<ul>
<li>Theo dõi các metric từ CloudWatch</li>
<li>So sánh metric với các điều kiện hoặc target đã cấu hình</li>
<li>Gửi yêu cầu tới Application Auto Scaling để điều chỉnh DesiredCount của ECS Service</li>
</ul>
<p>Trong Amazon ECS:</p>
<ul>
<li>Scaling policy được quản lý bởi Application Auto Scaling</li>
<li>Đối tượng được scale là DesiredCount của ECS Service</li>
</ul>
<p>Tiếp theo, chúng ta sẽ tạo một scaling policy cho scalable target này.</p>
<p>Đầu tiên, tạo một file cấu hình JSON cho scaling policy. Cấu hình này sử dụng predefined metric type là request count per target liên quan đến Application Load Balancer (ALB) định tuyến request tới ECS service. Trong trường hợp này, mục tiêu của chúng ta là 1.500 requests cho mỗi ECS task (hoặc target).</p>

<div class="notices note" ><p>Scaling policy này chỉ mang tính ví dụ. Cần hiểu rõ scaling profile của workload cụ thể để xác định các scaling metrics và thresholds phù hợp trước khi bật autoscaling.</p>
</div>

<p>File cấu hình JSON <code>ui-scaling-policy.json</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;TargetValue&#34;</span>: <span style="color:#ae81ff">1500</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;PredefinedMetricSpecification&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;PredefinedMetricType&#34;</span>: <span style="color:#e6db74">&#34;ALBRequestCountPerTarget&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ResourceLabel&#34;</span>: <span style="color:#e6db74">&#34;$UI_ALB_PREFIX/$UI_TG_PREFIX&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Lưu ý rằng chúng ta đang sử dụng các environment variables là <code>$UI_ALB_PREFIX</code> và <code>$UI_TG_PREFIX</code> để chỉ định đúng ALB và Target Group cho UI service.</p>
<ul>
<li><code>$UI_ALB_PREFIX</code>: ARN của ALB, tuy nhiên chỉ cần phần prefix là đủ. Ví dụ: <code>app/ecs-workshop-alb/07eeccd166f4ef38</code></li>
</ul>
<p><img alt="UI ALB ARN" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/6.png"></p>
<ul>
<li><code>$UI_TG_PREFIX</code>: Target Group prefix cho UI service. Ví dụ: <code>targetgroup/ui-tg/2feb79f68add27c7</code></li>
</ul>
<p><img alt="UI TG ARN" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/7.png"></p>
<p>Bây giờ, phần <code>ResourceLabel</code> trong file cấu hình JSON như sau: <code>app/ecs-workshop-alb/07eeccd166f4ef38/targetgroup/ui-tg/2feb79f68add27c7</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws application-autoscaling put-scaling-policy <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --service-namespace ecs <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --scalable-dimension ecs:service:DesiredCount <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --resource-id service/retail-store-ecs-cluster/ui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --policy-name ui-scaling-policy <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --policy-type TargetTrackingScaling <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --target-tracking-scaling-policy-configuration file://ui-scaling-policy.json
</span></span></code></pre></div><p><img alt="Target Tracking Scaling Policy" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/3.png"></p>
<p>Kiểm tra target tracking scaling policy trong Amazon ECS console.</p>
<p><img alt="Target Tracking Scaling Policy" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/5.png"></p>
<h4 id="cloudwatch-alarm">CloudWatch Alarm</h4>
<p>Trạng thái alarm có thể thay đổi tùy theo số lượng request. Ví dụ, <code>UI-AlarmLow</code> sẽ trigger khi số request giảm xuống dưới 1350.</p>
<p><img alt="CloudWatch Alarm" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/4.png"></p>
<p><strong>Cấu hình High Alarm (Scale-out):</strong></p>
<ul>
<li>
<p>Metric: ALBRequestCountPerTarget &gt; 1500</p>
</li>
<li>
<p>Evaluation: 3 data points trong 3 phút</p>
</li>
<li>
<p>Action: Khi ở trạng thái ALARM, sẽ thêm task vào ECS service</p>
</li>
<li>
<p>Behavior: Tiếp tục thêm task trong các evaluation period tiếp theo nếu alarm vẫn tồn tại, tối đa đến giới hạn đã chỉ định trong scaling policy</p>
</li>
</ul>
<p><strong>Cấu hình Low Alarm (Scale-in):</strong></p>
<ul>
<li>
<p>Metric: ALBRequestCountPerTarget &lt; 1350</p>
</li>
<li>
<p>Evaluation: 15 data points trong 15 phút</p>
</li>
<li>
<p>Action: Khi ở trạng thái ALARM, sẽ giảm số lượng task</p>
</li>
<li>
<p>Behavior: Scale-in chậm hơn để ưu tiên high availability</p>
</li>
</ul>
<h4 id="trigger-auto-scaling">Trigger Auto Scaling</h4>
<p>Tiến hành tạo synthetic load để trigger auto scaling.</p>
<p>Đầu tiên chúng ta cần lấy DNS Name của Application Load Balancer được gắn cho UI service.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export RETAIL_ALB<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>aws elbv2 describe-load-balancers --name ecs-workshop-alb <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --query <span style="color:#e6db74">&#39;LoadBalancers[0].DNSName&#39;</span> --output text<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Retail ALB: </span><span style="color:#e6db74">${</span>RETAIL_ALB<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p><img alt="Trigger Auto Scaling" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/8.png"></p>
<p>Tiếp theo, chúng ta sẽ sử dụng <a href="https://github.com/rakyll/hey">hey tool</a> để gửi request đến path /home của UI service:</p>
<p>Có thể cài đặt hey tool bằng lệnh sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install hey -y
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hey -n <span style="color:#ae81ff">1000000</span> -c <span style="color:#ae81ff">5</span> -q <span style="color:#ae81ff">40</span> http://$RETAIL_ALB/home &amp;
</span></span></code></pre></div><p><img alt="Trigger Auto Scaling" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/9.png"></p>
<p>Hoạt động scaling sẽ được kích hoạt khi high alarm cho scaling metric bị breach trong 3 chu kỳ liên tiếp, mỗi chu kỳ 1 phút. Nếu bạn muốn tự động chờ cho đến khi alarm được kích hoạt, bạn có thể chạy lệnh sau (khoảng ~ 4 phút):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sleep <span style="color:#ae81ff">90</span> <span style="color:#f92672">&amp;&amp;</span> aws cloudwatch wait alarm-exists --alarm-name-prefix <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> TargetTracking-service/retail-store-ecs-cluster/ui-AlarmHigh --state-value ALARM
</span></span></code></pre></div><p>Khi alarm được kích hoạt, bạn sẽ thấy task count của service scale out từ 2 lên con số cao hơn:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws ecs describe-tasks <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --cluster retail-store-ecs-cluster <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --tasks <span style="color:#66d9ef">$(</span>aws ecs list-tasks --cluster retail-store-ecs-cluster --query <span style="color:#e6db74">&#39;taskArns[]&#39;</span> --output text<span style="color:#66d9ef">)</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --query <span style="color:#e6db74">&#34;tasks[*].[group, launchType, lastStatus, healthStatus, taskArn]&#34;</span> --output table
</span></span></code></pre></div><p><img alt="Trigger Auto Scaling" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/11.png"></p>
<p><img alt="Trigger Auto Scaling" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/12.png"></p>
<p>Có thể quan sát high alarm liên quan đến scaling policy chuyển sang trạng thái ALARM trong CloudWatch console, như hình bên dưới.</p>
<p><img alt="Trigger Auto Scaling" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/10.png"></p>
<p>Bạn cũng có thể kiểm tra tab Events trong trang UI Service để xem hoạt động scaling, nơi desired count tăng lên vượt quá số task ban đầu.</p>
<p><img alt="Trigger Auto Scaling" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/13.png"></p>
<p>Tiếp theo chúng ta sẽ tiến hành giảm số lượng các task trong ECS service.</p>
<p>Dừng tiến trình Hey:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pkill -9 hey
</span></span></code></pre></div><p>Thông thường, sau vài phút, số lượng task sẽ scale back về mức tối thiểu là 2. Tuy nhiên, để tiết kiệm thời gian, chúng ta có thể force scale down service bằng cách chạy các lệnh sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws ecs wait services-stable --cluster retail-store-ecs-cluster --services ui
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws ecs update-service <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --cluster retail-store-ecs-cluster <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --service ui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --task-definition retail-store-ecs-ui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --desired-count <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p><img alt="Force Scale Down" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/14.png"></p>
<p><img alt="Force Scale Down" src="http://localhost:1313/images/6-auto-scaling/6.2-target_tracking_scaling/15.png"></p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="http://localhost:1313/vi/6-auto-scaling/6.1-sas/" title="Service Auto Scaling"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="http://localhost:1313/vi/6-auto-scaling/6.3-scheduled_scaling/" title="Scheduled Scaling" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="http://localhost:1313/js/clipboard.min.js?1768702295"></script>
    <script src="http://localhost:1313/js/perfect-scrollbar.min.js?1768702295"></script>
    <script src="http://localhost:1313/js/perfect-scrollbar.jquery.min.js?1768702295"></script>
    <script src="http://localhost:1313/js/jquery.sticky.js?1768702295"></script>
    <script src="http://localhost:1313/js/featherlight.min.js?1768702295"></script>
    <script src="http://localhost:1313/js/highlight.pack.js?1768702295"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://localhost:1313/js/modernizr.custom-3.6.0.js?1768702295"></script>
    <script src="http://localhost:1313/js/learn.js?1768702295"></script>
    <script src="http://localhost:1313/js/hugo-learn.js?1768702295"></script>

    <link href="http://localhost:1313/mermaid/mermaid.css?1768702295" rel="stylesheet" />
    <script src="http://localhost:1313/mermaid/mermaid.js?1768702295"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
