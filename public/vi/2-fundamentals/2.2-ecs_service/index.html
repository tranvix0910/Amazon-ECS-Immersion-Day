<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="http://localhost:1313/images/favicon.png" type="image/png">

    <title>Amazon ECS Service :: TRIỂN KHAI ỨNG DỤNG TRÊN AMAZON ELASTIC CONTAINER SERVICE</title>

    
    <link href="http://localhost:1313/css/nucleus.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/fontawesome-all.min.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/hybrid.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/featherlight.min.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/perfect-scrollbar.min.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/auto-complete.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/atom-one-dark-reasonable.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/theme.css?1765856842" rel="stylesheet">
    <link href="http://localhost:1313/css/hugo-theme.css?1765856842" rel="stylesheet">
    
    <link href="http://localhost:1313/css/theme-workshop.css?1765856842" rel="stylesheet">
    
    

    <script src="http://localhost:1313/js/jquery-3.3.1.min.js?1765856842"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="http://localhost:1313/vi/2-fundamentals/2.2-ecs_service/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://localhost:1313/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="http://localhost:1313/js/lunr.min.js?1765856842"></script>
<script type="text/javascript" src="http://localhost:1313/js/auto-complete.js?1765856842"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost:1313\/\/vi";
    
</script>
<script type="text/javascript" src="http://localhost:1313/js/search.js?1765856842"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-introduction/" title="Giới thiệu" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/1-introduction/">
           <b> 1. </b> Giới thiệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-fundamentals/" title="Các khái niệm cơ bản" class="dd-item 
        parent
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/">
           <b> 2. </b> Các khái niệm cơ bản
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.1-ecs_cluster/" title="Amazon ECS Cluster" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.1-ecs_cluster/">
           <b> 2.1. </b> Amazon ECS Cluster
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.2-ecs_service/" title="Amazon ECS Service" class="dd-item 
        
        active
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.2-ecs_service/">
           <b> 2.2. </b> Amazon ECS Service
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.3-ecs_task/" title="Amazon ECS Task" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.3-ecs_task/">
           <b> 2.3. </b> Amazon ECS Task
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-fundamentals/2.4-ecs_task_definition/" title="Amazon ECS Task Definition" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/2-fundamentals/2.4-ecs_task_definition/">
           <b> 2.4. </b> Amazon ECS Task Definition
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-prepare/" title="Chuẩn bị" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/">
           <b> 3. </b> Chuẩn bị
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.1-user_accesskey/" title="Tạo User &amp; Access Key" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.1-user_accesskey/">
           <b> 3.1. </b> Tạo User &amp; Access Key
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.2-cluster-task_definitions/" title="Tạo Cluster &amp; Task Definition" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.2-cluster-task_definitions/">
           <b> 3.2. </b> Tạo Cluster &amp; Task Definition
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.3-services/" title="Services" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.3-services/">
           <b> 3.3. </b> Services
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.4-updated_services/" title="Cập nhật Services" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.4-updated_services/">
           <b> 3.4. </b> Cập nhật Services
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-prepare/3.5-enable_ecs_exec/" title="Enable ECS Exec" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/3-prepare/3.5-enable_ecs_exec/">
           <b> 3.5. </b> Enable ECS Exec
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-express-mode/" title="Express Mode" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/4-express-mode/">
           <b> 4. </b> Express Mode
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/4-express-mode/4.1-setup_deploy/" title="Express Mode Setup &amp; Deployment" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/4-express-mode/4.1-setup_deploy/">
           <b> 4.1. </b> Express Mode Setup &amp; Deployment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-express-mode/4.2-update/" title="Express Mode Update" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/4-express-mode/4.2-update/">
           <b> 4.2. </b> Express Mode Update
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/5-managed-instances/" title="ECS Managed Instances" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/5-managed-instances/">
           <b> 5. </b> ECS Managed Instances
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/5-managed-instances/5.1-enable/" title="Enable ECS Managed Instances" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/5-managed-instances/5.1-enable/">
           <b> 5.1. </b> Enable ECS Managed Instances
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/6-auto-scaling/" title="Auto Scaling" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/6-auto-scaling/">
           <b> 6. </b> Auto Scaling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/7-networking/" title="Networking" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/7-networking/">
           <b> 7. </b> Networking
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/8-observability/" title="Observability" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/8-observability/">
           <b> 8. </b> Observability
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/9-security/" title="Security" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/9-security/">
           <b> 9. </b> Security
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/10-deployments/" title="Deployments" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/10-deployments/">
           <b> 10. </b> Deployments
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/11-storage/" title="Storage" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/11-storage/">
           <b> 11. </b> Storage
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/12-cost-optimizations/" title="Cost Optimizations" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/12-cost-optimizations/">
           <b> 12. </b> Cost Optimizations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/13-clean-up/" title="Clean Up" class="dd-item 
        
        
        
        ">
      <a href="http://localhost:1313/vi/13-clean-up/">
           <b> 13. </b> Clean Up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://localhost:1313/2-fundamentals/2.2-ecs_service/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://localhost:1313/vi/2-fundamentals/2.2-ecs_service/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <b>Authors</b> <br>
    <ul>
        <li><a href="http://linkedin.com/in/tranvix0910" style="color:orange;">Trần Vĩ</a></li>
    </ul>
</left>

<left>
    
    <b>Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7836256&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" alt="web counter" border="0" /> <br>
    <b><a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total Cloud Journey" alt="web counter" border="0" />
</left>

<left>
    <br>
    <br>
    <b>Last Updated</b> <br>
    <i><font color=orange>20-01-2025</font></i>
</left>

<left>
    <br>
    <br>
    <b>Team</b> <br>
    <i><a href="https://www.linkedin.com/in/jotaguy" style="color:orange">Gia Hưng</a></i>
</left>


<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='http://localhost:1313/vi/'>Workshop Amazon Elastic Container Service & AWS Fargate</a> > <a href='http://localhost:1313/vi/2-fundamentals/'>Các khái niệm cơ bản</a> > Amazon ECS Service
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#amazon-ecs-service">Amazon ECS Service</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Amazon ECS Service
            </h1>
          

        



	<h3 id="amazon-ecs-service">Amazon ECS Service</h3>
<p>ECS Service là một công cụ quản lý cho phép bạn chạy và duy trì một số lượng task nhất định liên tục trong một ECS cluster. Nó là một phần thiết yếu của ECS dành cho các ứng dụng dài hạn, không giống như standalone tasks dùng cho các batch jobs ngắn hạn.</p>
<p>Nếu một trong các task bị lỗi hoặc dừng, <strong>ECS Service Scheduler</strong> sẽ khởi chạy một instance khác của Task Definition để thay thế.</p>
<p>Điều này giúp duy trì đúng số lượng task mong muốn (desired number of tasks) cho service.</p>
<p>Ngoài ra, chỉ Service mới có thể được cấu hình với Load Balancer. Nếu cần phân phối traffic đến các container, bắt buộc phải sử dụng Service, không phải standalone Task. LB giúp:</p>
<ul>
<li>High availability</li>
<li>Scale</li>
<li>Health check</li>
</ul>
<h4 id="khi-nào-nên-dùng-service-scheduler">Khi nào nên dùng Service Scheduler?</h4>
<p>AWS khuyến nghị sử dụng Service Scheduler cho:</p>
<ul>
<li>Các service</li>
<li>Ứng dụng stateless</li>
<li>Workload chạy dài hạn (long-running)</li>
</ul>
<p>Service Scheduler đảm bảo:</p>
<ul>
<li>Chiến lược scheduling bạn cấu hình được tuân thủ</li>
<li>Task được reschedule khi bị lỗi</li>
</ul>
<p>Ví dụ:
Nếu hạ tầng bên dưới gặp sự cố, Service Scheduler sẽ chạy lại task.</p>
<h4 id="các-thành-phần-cấu-hình-của-ecs-service">Các Thành Phần Cấu Hình của ECS Service</h4>
<ul>
<li>
<p><strong>Service Name</strong>: Tên của service để nhận diện nó trong cluster</p>
</li>
<li>
<p><strong>Task Definition</strong>: Task Definition nào sẽ được sử dụng để khởi chạy tasks. Service sẽ tham chiếu Task Definition này.</p>
</li>
<li>
<p><strong>Desired Count</strong>: Số lượng task mà bạn muốn Service giữ chạy liên tục. Nếu bạn chỉ định desired count là 3, Service sẽ luôn cố gắng duy trì 3 tasks đang chạy. Nếu một task bị dừng, Service sẽ khởi chạy task mới để thay thế.​</p>
</li>
<li>
<p><strong>Scheduling Strategy</strong>: Có hai lựa chọn:</p>
<ul>
<li>
<p><strong>REPLICA</strong>: Service chạy một số lượng mong muốn của tasks</p>
</li>
<li>
<p><strong>DAEMON</strong>: Service chạy một task trên mỗi container instance trong cluster (không có desired count)​</p>
</li>
</ul>
</li>
<li>
<p><strong>Deployment Type</strong>: Cách thức triển khai các phiên bản mới:​</p>
<ul>
<li>
<p><strong>ECS</strong>: Sử dụng ECS Scheduler (rolling update mặc định)</p>
</li>
<li>
<p><strong>CODE_DEPLOY</strong>: Sử dụng AWS CodeDeploy (hỗ trợ blue-green deployments)</p>
</li>
<li>
<p><strong>EXTERNAL</strong>: Cho phép triển khai thủ công qua TaskSets (dùng với CloudFormation, Jenkins, v.v.)</p>
</li>
</ul>
</li>
<li>
<p><strong>Load Balancer Configuration</strong>: Nếu bạn muốn phân phối traffic:</p>
<ul>
<li>
<p><strong>Loại Load Balancer</strong>: Application Load Balancer (ALB) hoặc Network Load Balancer (NLB)</p>
</li>
<li>
<p><strong>Target Group</strong>: Xác định những container nào sẽ nhận traffic</p>
</li>
<li>
<p><strong>Port Mapping</strong>: Ánh xạ từ port load balancer đến port container</p>
</li>
<li>
<p><strong>Health Check</strong>: Cấu hình kiểm tra sức khỏe để xác định task có hoạt động không​</p>
</li>
</ul>
</li>
</ul>
<h4 id="vòng-đời-của-ecs-service">Vòng Đời của ECS Service</h4>
<p>Service hoạt động theo chu trình sau:</p>
<ul>
<li>
<p><strong>Khởi tạo</strong>: Bạn tạo Service và chỉ định desired count (ví dụ: 3 tasks)</p>
</li>
<li>
<p><strong>Khởi chạy Tasks</strong>: Service scheduler khởi chạy 3 instances của Task Definition</p>
</li>
<li>
<p><strong>Đăng ký với Load Balancer</strong>: Nếu có load balancer, các tasks được tự động đăng ký với target group</p>
</li>
<li>
<p><strong>Giám sát liên tục</strong>: Service liên tục kiểm tra trạng thái của các tasks</p>
</li>
<li>
<p><strong>Thay thế Tasks lỗi</strong>: Nếu một task gặp sự cố, Service khởi chạy task mới để duy trì desired count</p>
</li>
<li>
<p><strong>Mở rộng/Thu nhỏ</strong>: Nếu auto scaling được kích hoạt, desired count sẽ tự động điều chỉnh dựa trên metrics</p>
</li>
</ul>
<h4 id="deployment-configuration-cho-rolling-updates">Deployment Configuration cho Rolling Updates</h4>
<p>Khi bạn triển khai phiên bản mới của ứng dụng (cập nhật Task Definition), ECS sử dụng deployment configuration để kiểm soát quá trình:</p>
<ul>
<li>
<p><strong>MinimumHealthyPercent</strong>: Phần trăm tối thiểu của tasks phải duy trì ở trạng thái RUNNING trong suốt quá trình deployment. Ví dụ, nếu desired count là 4 và MinimumHealthyPercent là 50%, ECS đảm bảo ít nhất 2 tasks (50% của 4) vẫn đang chạy khi triển khai các phiên bản mới.​</p>
</li>
<li>
<p><strong>MaximumPercent</strong>: Tổng số maximum tasks có thể chạy đồng thời trong suốt quá trình deployment, tính dưới dạng phần trăm của desired count. Ví dụ, nếu desired count là 4 và MaximumPercent là 200%, ECS cho phép tối đa 8 tasks chạy cùng lúc - 4 tasks cũ + 4 tasks mới. Điều này cho phép triển khai nhanh hơn nhưng yêu cầu nhiều tài nguyên hơn.​​</p>
</li>
</ul>
<p>Ví dụ quá trình deployment:</p>
<ul>
<li>
<p>Bạn có 4 tasks đang chạy version v1.</p>
</li>
<li>
<p>Bạn cập nhật Task Definition thành version v2.</p>
<ul>
<li>
<p><strong>MinimumHealthyPercent</strong>: 100%</p>
</li>
<li>
<p><strong>MaximumPercent</strong>: 200%</p>
</li>
</ul>
</li>
<li>
<p>ECS khởi chạy 4 tasks mới (v2) trước khi dừng 4 tasks cũ (v1).</p>
</li>
<li>
<p>Lúc này bạn có 8 tasks chạy đồng thời.</p>
</li>
<li>
<p>Sau đó, ECS dừng 4 tasks v1 cũ.</p>
</li>
<li>
<p>Kết quả: 4 tasks v2 đang chạy.</p>
</li>
</ul>
<h4 id="service-auto-scaling">Service Auto Scaling​</h4>
<p>Service Auto Scaling cho phép ECS tự động điều chỉnh số lượng tasks dựa trên các metrics như CPU, memory, hoặc custom metrics. Có bốn loại scaling:</p>
<ul>
<li>
<p><strong>Target Tracking Scaling</strong>: Duy trì một metric cụ thể ở mức target. Ví dụ, bạn có thể nói &ldquo;duy trì CPU ở 70%&rdquo;. ECS sẽ tự động thêm tasks khi CPU vượt 70% và xóa tasks khi CPU dưới 70%.​</p>
</li>
<li>
<p><strong>Step Scaling</strong>: Sử dụng CloudWatch alarms với các thang bậc (steps). Ví dụ, khi CPU &gt; 80%, thêm 2 tasks; khi CPU &gt; 90%, thêm 4 tasks.​</p>
</li>
<li>
<p><strong>Scheduled Scaling</strong>: Điều chỉnh desired count dựa trên lịch thời gian. Ví dụ, mở rộng vào lúc 9 sáng khi công ty mở cửa, thu nhỏ vào 6 tối khi đóng cửa.​</p>
</li>
<li>
<p><strong>Predictive Scaling</strong>: Sử dụng machine learning để phân tích các pattern lịch sử và dự báo traffic trong tương lai.​</p>
</li>
</ul>
<h4 id="cơ-chế-duy-trì-desired-count">Cơ Chế Duy Trì Desired Count</h4>
<p>Điều quan trọng cần hiểu là desired count và số tasks thực tế đang chạy có thể khác nhau tạm thời:</p>
<ul>
<li><strong>Desired Count</strong>: Số lượng tasks mà bạn muốn Service duy trì. Nó là một giá trị mục tiêu mà ECS cố gắng đạt được.​</li>
<li><strong>Running Tasks</strong>: Số tasks thực tế đang chạy tại thời điểm hiện tại. Khi bạn thay đổi desired count, ECS cần thời gian để khởi chạy hoặc dừng tasks để phù hợp với desired count mới.​</li>
</ul>
<p>Ví dụ:</p>
<ul>
<li>Bạn đặt desired count = 3</li>
<li>Hiện tại có 1 task đang chạy</li>
<li>ECS sẽ khởi chạy 2 tasks mới</li>
<li>Trong quá trình khởi chạy, running tasks = 1 nhưng desired count = 3</li>
<li>Sau vài giây, running tasks = 3 (khớp với desired count)</li>
</ul>
<h4 id="triển-khai-so-với-auto-scaling">Triển Khai So Với Auto Scaling​</h4>
<p>Service Auto Scaling Min/Max là dải cho phép mà Service Auto Scaling có thể điều chỉnh desired count trong nó.</p>
<p>Nếu bạn đặt Min = 2 và Max = 10:</p>
<ul>
<li>
<p><strong>Service Auto Scaling sẽ không bao giờ để desired count xuống dưới 2</strong></p>
</li>
<li>
<p><strong>Service Auto Scaling sẽ không bao giờ để desired count vượt quá 10</strong></p>
</li>
</ul>
<p>Deployment Configuration Min/Max Percent chỉ áp dụng trong suốt quá trình deployment (khi cập nhật Task Definition). Nó kiểm soát số tasks có thể chạy trong lúc triển khai, không liên quan đến auto scaling bình thường.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="http://localhost:1313/vi/2-fundamentals/2.1-ecs_cluster/" title="Amazon ECS Cluster"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="http://localhost:1313/vi/2-fundamentals/2.3-ecs_task/" title="Amazon ECS Task" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="http://localhost:1313/js/clipboard.min.js?1765856842"></script>
    <script src="http://localhost:1313/js/perfect-scrollbar.min.js?1765856842"></script>
    <script src="http://localhost:1313/js/perfect-scrollbar.jquery.min.js?1765856842"></script>
    <script src="http://localhost:1313/js/jquery.sticky.js?1765856842"></script>
    <script src="http://localhost:1313/js/featherlight.min.js?1765856842"></script>
    <script src="http://localhost:1313/js/highlight.pack.js?1765856842"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://localhost:1313/js/modernizr.custom-3.6.0.js?1765856842"></script>
    <script src="http://localhost:1313/js/learn.js?1765856842"></script>
    <script src="http://localhost:1313/js/hugo-learn.js?1765856842"></script>

    <link href="http://localhost:1313/mermaid/mermaid.css?1765856842" rel="stylesheet" />
    <script src="http://localhost:1313/mermaid/mermaid.js?1765856842"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
